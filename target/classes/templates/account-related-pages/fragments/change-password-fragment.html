<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
</head>
<body th:fragment="body">
<div class="kt-login__form">
    <div class="kt-login__title">
        <h3 th:text="#{mvc.ui.change-password.title}"/>
    </div>
    <form class="kt-form post-json-form"
          th:action="@{/passwordReset/updatePassword}"
          id="kt_login_form" method="post"
          ms-notify-on-success="true" ms-clear-on-success="true"
          ms-success-callback="onChangePasswordSuccess">
        <div class="form-group">
            <input id="password" ms-twin-input="passwordConfirmation" class="form-control"
                   type="password" th:placeholder="#{mvc.ui.compte.password.label}" required
                   name="password" ms-twin-input-validator="password-update-validator-button"
                   minlength="8">
            <input id="passwordConfirmation" ms-twin-input="password" class="form-control"
                   type="password" th:placeholder="#{mvc.ui.change-password.password-confirmation.label}" required
                   name="passwordConfirmation" ms-twin-input-validator="password-update-validator-button"
                   minlength="8">
        </div>

        <div class="kt-login__actions">
            <a th:href="@{/logoutService}" class="kt-link kt-login__link-forgot"
               th:text="#{mvc.ui.login.label}"/>

            <button id="password-update-validator-button" class="btn btn-primary btn-elevate kt-login__btn-primary"
                    th:text="#{mvc.ui.utils.confirm}" disabled="disabled"/>
        </div>
    </form>
</div>

<script>
    function onChangePasswordSuccess() {
        redirect("login");
    }
</script>
</body>
</html>